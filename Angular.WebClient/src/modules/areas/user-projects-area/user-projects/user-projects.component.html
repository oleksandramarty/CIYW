<div class="dashboard-container">
    <section *ngIf="userProjects">
        <h1>USER_PROJECTS</h1>
        <mat-divider></mat-divider>
        <div class="user-project-cards">
            <div class="user-project-card" *ngFor="let userProject of userProjects">
                <div class="user-project-header">
                    <h3>{{ userProject.title }}</h3>
                </div>
                <div class="user-project-details">
                    <div *ngFor="let balance of userProject.balances" class="balance">
                        <span class="currency">{{ localesMap?.get(balance.currencyId)?.title }}</span>
                        <span class="amount">{{ balance.amount | currency:localesMap?.get(balance.currencyId)?.isoCode }}</span>
                    </div>
                </div>
            </div>
            <div class="user-project-card" (click)="openCreateUserProjectDialog()">
                <div class="user-project-header">
                    <div class="user-project-add-container">
                        <div class="user-project-add"><i class="fa-solid fa-plus"></i></div>
                    </div>
                </div>
                <div class="user-project-details">
                    USER_PROJECT.ADD.NEW_PROJECT
                </div>
            </div>
        </div>
    </section>

    <section *ngIf="allowedProjects">
        <h1>USER.USER_ALLOWED_PROJECTS</h1>
        <mat-divider></mat-divider>
        <div *ngIf="allowedProjects.length === 0" class="no-user-projects">
            <h2>USER_PROJECT.NO_ALLOWED_PROJECTS</h2>
            <p>USER_PROJECT.CREATE_FIRST_ONE</p>
        </div>
        <div *ngIf="allowedProjects.length > 0" class="user-project-cards">
            <div class="user-project-card" *ngFor="let allowedProject of allowedProjects">
                <div class="user-project-header">
                    <h3>{{ allowedProject.userProject.title }}</h3>
                </div>
                <div class="user-project-details">
                    <div *ngFor="let balance of allowedProject.userProject.balances" class="balance">
                        <span class="currency">{{ localesMap?.get(balance.currencyId)?.title }}</span>
                        <span class="amount">{{ balance.amount | currency:localesMap?.get(balance.currencyId)?.isoCode }}</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<app-common-loader *ngIf="isBusy"></app-common-loader>